<?phpclass ControllerSmartBizDemo extends SmartBizController {	public function index() {		$this->data['link_quick_link_detail'] = $this->getQuickLinkPage();		$this->data['link_demo_detail'] = $this->getDemoPage();		$this->load->model('smartbiz/demo');		$uri = $_SERVER['REQUEST_URI'];		$elements = explode('/',$uri);		$params = array();		foreach($elements as $ele) {			if(strpos($ele,':') !== false) {				$arr = explode(':',$ele);				$params[$arr[0]] = $arr[1];				$this->data[$arr[0]] = $arr[1];			}		}		if(!isset($params['id'])) {			$parent = $this->model_smartbiz_demo->getFirstId();			$params['id'] = $parent['demo_id'];			$this->data['id'] = $parent['demo_id'];		}		$demos = $this->model_smartbiz_demo->getAll();		foreach($demos as &$demo) {			$names = explode(' ',$demo['name']);			$temp = array();			foreach($names as $name) {				$name = trim($name);				if(!empty($name) && $name != '-') {					$temp[] = $name;				}			}			$demo['searchengine'] = mb_strtolower(str_replace(' ','-',$demo['name']),'UTF-8');		}		$this->data['demoDataObjs'] = $demos;		$demoDataObj = $this->model_smartbiz_demo->getById($params['id']);		$this->data['demoDataObj'] = $demoDataObj;		$demoLinkDataObj = $this->model_smartbiz_demo->getDemoLink($params['id']);		$this->data['demoLinkDataObj'] = $demoLinkDataObj;		$this->data['page_title'] = "Dùng thử trực tiếp các giải pháp | SmartBiz";		$this->data['page_description'] = "SmartBiz cung cấp các giải pháp trực tuyến để khách hàng có thể dùng thử và hiểu thêm về ứng dụng. Bộ ứng dụng dùng thử gồm có: ERP, POS, HRM. Hãy liên lạc với chúng tôi nếu có thắc mắc gì";		$this->updateStatusMenuNavigation('demo');		$product_type = array(			'smartbiz-overview' => '',			'smartbiz-solution-erp' => '',			'smartbiz-solution-pos' => '',			'system-diagram' => '',		);		$keys = array_keys($product_type);		foreach($keys as $key) {			$product_display[$key] = 'display:none;';			$product_selectLava[$key] = '';			$product_scrollpane[$key] = '';		}		$spans = array(			'Smart',			'Enter',			'Content',			'Point',		);		if (isset($this->request->get['product_type'])) {			$product_type[$this->request->get['product_type']] = 'SubMenuPagesCur';			$product_display[$this->request->get['product_type']] = 'display:block;';			$product_selectLava[$this->request->get['product_type']] = 'selectedLava';			$product_scrollpane[$this->request->get['product_type']] = 'scroll-pane';			$this->data['js_binding_tab_click'] = 'bindingTabClick("' . $this->request->get['product_type'] . '", true);';		} else {			$product_type['smartbiz-overview'] = 'SubMenuPagesCur';			$product_display['smartbiz-overview'] = 'display:block;';			$product_selectLava['smartbiz-overview'] = 'selectedLava';			$product_scrollpane['smartbiz-overview'] = 'scroll-pane';			$this->data['js_binding_tab_click'] = 'bindingTabClick("smartbiz-overview", true);';		}		$this->data['spans'] = $spans;		$this->data['keys'] = $keys;		$this->data['product_type'] = $product_type;		$this->data['product_display'] = $product_display;		$this->data['product_selectLava'] = $product_selectLava;		$this->data['product_scrollpane'] = $product_scrollpane;		$this->display('/template/common/demo.tpl');
	}
}?>